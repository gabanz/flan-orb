description: >
  Scan ports, services and vulnerabilities, generate report and publish to cloud storage bucket.

executor: default

parameters:
  upload:
    type: string
    default: "aws"
    description: "Upload to a AWS S3 or Google Cloud GCS. Option: aws, gcp."
  bucket:
    type: string
    default: "flanscan"
    description: "GCS or AWS S3 bucket name to upload the results to."
  format:
    type: string
    default: "html"
    description: "The format of the report: md, html, json"
steps:
  - publish:
      upload: << parameters.upload >>
      bucket: << parameters.bucket >>
      format: << parameters.format >>
